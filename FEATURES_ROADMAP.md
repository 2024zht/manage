# 功能路线图

## ✅ 已实现功能（v1.0 - v2.2）

### 核心功能
- [x] 用户注册登录
- [x] 管理员专用登录
- [x] 积分排行榜
- [x] 规则管理
- [x] 用户管理
- [x] 积分历史查询
- [x] 积分异议申诉
- [x] 批量导入积分
- [x] 响应式设计

### 管理功能
- [x] 管理员面板
- [x] 快速修改积分
- [x] 异议管理
- [x] CSV文件上传
- [x] 批量导入

## 🚀 新增功能（v3.0）

### 请假审批模块
- [x] 后端API完成
- [x] 数据库表创建
- [ ] 前端组件（待创建）
  - [ ] LeaveRequest.tsx - 用户请假申请
  - [ ] LeaveApproval.tsx - 管理员审批
  - [ ] 路由配置
  - [ ] 导航菜单

**功能点**：
- [x] 用户提交请假申请
- [x] 请假类型选择（事假、病假、年假、调休）
- [x] 时间范围选择（精确到小时）
- [x] 时长自动计算
- [x] 用户查看自己的请假记录
- [x] 管理员查看所有待审批申请
- [x] 管理员批准/拒绝申请
- [x] 拒绝理由记录
- [x] 审批历史记录

### 电子书管理模块
- [x] 后端API完成
- [x] 文件上传功能（multer）
- [x] Backblaze B2集成
- [ ] 前端组件（待创建）
  - [ ] Ebooks.tsx - 电子书浏览和下载
  - [ ] 上传界面
  - [ ] 路由配置

**功能点**：
- [x] 管理员上传电子书
- [x] 自动同步到B2云存储
- [x] 本地临时文件自动清理
- [x] 文件名URL编码处理
- [x] 用户浏览电子书列表
- [x] 通过Cloudflare Worker下载
- [x] 文件大小限制（100MB）
- [x] 支持多种格式（PDF, EPUB, MOBI等）
- [x] 管理员删除电子书

## 📋 待实现功能建议

### 短期计划

#### 通知系统
- [ ] 站内消息
- [ ] 审批结果通知
- [ ] 新电子书上传通知
- [ ] 积分变更通知

#### 统计分析
- [ ] 积分统计图表
- [ ] 请假统计
- [ ] 用户活跃度分析
- [ ] 导出统计报表

#### 用户体验
- [ ] 头像上传
- [ ] 个人资料编辑
- [ ] 暗黑模式
- [ ] 多语言支持

### 中期计划

#### 高级功能
- [ ] 评论系统（积分记录、电子书）
- [ ] 标签分类（电子书）
- [ ] 搜索功能
- [ ] 收藏功能
- [ ] 阅读进度记录

#### 移动端
- [ ] 原生移动应用
- [ ] 推送通知
- [ ] 离线模式

#### 集成
- [ ] 邮件通知
- [ ] 微信/钉钉集成
- [ ] 日历同步（请假）
- [ ] 云盘集成

### 长期规划

#### 系统优化
- [ ] Redis缓存
- [ ] 数据库迁移到PostgreSQL/MySQL
- [ ] 微服务架构
- [ ] Docker容器化
- [ ] CI/CD自动化

#### 扩展模块
- [ ] 任务管理系统
- [ ] 会议室预约
- [ ] 设备借用管理
- [ ] 论文管理
- [ ] 项目管理

## 🎯 版本历史

### v3.0（开发中）
- ✅ 请假审批模块（后端完成）
- ✅ 电子书管理模块（后端完成）
- ⏳ 前端组件（待创建）

### v2.2（2025-01-20）
- ✅ 点击排行榜查看积分历史
- ✅ 用户提交积分异议
- ✅ 管理员异议管理界面
- ✅ 异议处理提醒（红色角标）

### v2.1（2025-01-20）
- ✅ 排行榜快速修改积分
- ✅ CSV文件上传功能
- ✅ 导入成功悬浮窗
- ✅ 自动清空功能

### v2.0（2025-01-20）
- ✅ 管理员专用登录页面
- ✅ 用户信息扩展（姓名、学号、班级）
- ✅ 排行榜完整展示
- ✅ 批量导入功能

### v1.0（2025-01-19）
- ✅ 基础认证功能
- ✅ 积分排行榜
- ✅ 规则管理
- ✅ 用户管理
- ✅ 响应式设计

## 📊 技术栈演进

### 当前技术栈
**前端**: React 18 + TypeScript + Tailwind CSS + Vite
**后端**: Node.js + Express + TypeScript
**数据库**: SQLite
**认证**: JWT
**文件上传**: Multer
**云存储**: Backblaze B2
**CDN**: Cloudflare Workers

### 未来技术栈考虑
**状态管理**: Redux Toolkit / Zustand
**数据库**: PostgreSQL / MySQL
**缓存**: Redis
**消息队列**: RabbitMQ / Kafka
**搜索**: Elasticsearch
**监控**: Prometheus + Grafana
**日志**: ELK Stack

## 🤝 贡献指南

想要贡献新功能？请参考：
1. 创建功能分支
2. 实现功能（包含测试）
3. 更新文档
4. 提交Pull Request

## 📝 文档索引

### 实现指南
- **LEAVE_EBOOK_IMPLEMENTATION.md** - 请假和电子书详细实现
- **LEAVE_EBOOK_QUICK_GUIDE.md** - 快速开始指南
- **V2_FEATURES_GUIDE.md** - V2.0功能指南
- **BATCH_IMPORT_GUIDE.md** - 批量导入指南
- **POINT_HISTORY_GUIDE.md** - 积分历史和异议指南

### 部署文档
- **DEPLOYMENT.md** - 生产环境部署
- **INSTALL.md** - 安装指南
- **QUICKSTART.md** - 快速开始

### 用户手册
- **USER_GUIDE.md** - 完整用户手册
- **FAQ.md** - 常见问题
- **FEATURES_SUMMARY.md** - 功能总览

---

**当前版本**: v3.0-dev
**最后更新**: 2025-01-20
**下一个里程碑**: v3.0正式发布（完成前端组件）

